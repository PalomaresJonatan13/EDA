% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/violin.R
\name{violin}
\alias{violin}
\title{Split or Combined Violin Plots by Category (and Optional Binary Split)}
\usage{
violin(df, num_var, cat_var, dich_var = NULL, horizontal = FALSE)
}
\arguments{
\item{df}{A data frame or tibble.}

\item{num_var}{Unquoted name of a numeric column in \code{df} to visualize.}

\item{cat_var}{Unquoted name of a non-numeric (categorical) column in \code{df}
whose levels define separate violins.}

\item{dich_var}{Optional unquoted name of a second categorical column in
\code{df} with exactly two levels.  If provided, each violin is split into left
and right halves colored by the two binary levels.  If \code{NULL} (default),
whole symmetric violins are drawn.}

\item{horizontal}{Logical; if \code{FALSE} (default), violins are vertical
(\verb{x = category, y = value}); if \code{TRUE}, obtains horizontal violins by
flipping coordinates (\code{coord_flip()}).}
}
\value{
Invisibly returns a list with two elements:
\describe{
\item{violins}{Named list of \code{ggplot} violin objects, one per level of
\code{cat_var}.}
\item{stats}{A tibble of descriptive statistics (from
\code{describe_data()}) for each level of \code{cat_var} (and each binary level
if \code{dich_var} is specified), with columns \code{category}, \code{binary}
(when applicable), and the numeric summary metrics.}
}
}
\description{
\code{violin()} produces violin plots of a numeric variable stratified by levels
of a categorical variable, optionally splitting each violin in half by a
binary variable.  A combined plot of all levels is printed, and individual
ggplot objects plus descriptive statistics are returned invisibly.
}
\details{
\itemize{
\item \code{num_var} is first checked via \code{select_numeric()} and must be numeric.
\item \code{cat_var} is checked via \code{select_non_numeric()} and coerced to factor for
level ordering.
\item If \code{dich_var} is supplied, it must have exactly two distinct non-missing
levels; its values are used to split each categoryâ€™s violin into two
halves via \code{gghalves::geom_half_violin()}, with colors \code{"#111"} (first
level) and \code{"#ccc"} (second level).
\item If \code{horizontal = TRUE}, \code{coord_flip()} is applied to both combined and
individual plots.
\item A combined violin plot across all levels is printed.
\item Individual violins for each level (and binary half when present) are
stored in the returned list element \code{violins}.
\item Descriptive statistics (mean, sd, quartiles, etc.) for each level (and
for each binary subgroup when \code{dich_var} is set) are computed via
\code{describe_data()} and returned as a tibble in the list element \code{stats}.
}
}
\examples{
# Vertical violins of Sepal.Length by Species
violin(iris, Sepal.Length, Species)

# Horizontal violins
violin(iris, Petal.Width, Species, horizontal = TRUE)

# Split violins of mpg by cyl and am in mtcars
mtcars$am <- factor(mtcars$am, labels = c("Auto", "Manual"))
violin(mtcars, mpg, cyl, dich_var = am)

}
